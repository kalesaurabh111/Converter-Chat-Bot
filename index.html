<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Measurement Converter & Quant Solver</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f1f4f8; margin: 0; padding: 0; }
    .container { max-width: 400px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 3px 20px #bbb; padding: 24px; }
    h1 { text-align: center; color: #2b4360; margin-bottom: 18px; }
    select, input[type="number"], input[type="text"] { width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 4px; border: 1px solid #cee0ee; }
    button { width: 100%; padding: 10px; background: #2b4360; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
    button:hover { background: #5683c8; }
    .result { background: #e7f3fe; padding: 12px; border-radius: 4px; margin-top: 15px; color: #1a2c4c; font-weight: bold; font-size: 1.1em; }
    .divider { height: 1px; background: #eee; margin: 20px 0; }
  </style>
</head>
<body>
  <div class="container">
    <h1>AI Converter & Quant Solver</h1>

    <!-- Measurement Conversion -->
    <h3>Measurement Conversion</h3>
    <select id="category" onchange="setUnits()">
      <option value="length">Length</option>
      <option value="weight">Weight</option>
      <option value="area">Area</option>
      <option value="volume">Volume</option>
      <option value="temperature">Temperature</option>
      <option value="time">Time</option>
    </select>
    <input type="number" id="inputValue" placeholder="Enter value" />
    <select id="fromUnit"></select> to
    <select id="toUnit"></select>
    <button onclick="convertUnits()">Convert</button>
    <div class="result" id="convertResult"></div>

    <div class="divider"></div>

    <!-- Quantitative Problem Solver -->
    <h3>Quantitative Problem Solver</h3>
    <input type="text" id="quantQuestion" placeholder="E.g. Ratio of 5 meters and 10 cm, Speed 36 km/h to m/s" />
    <button onclick="solveQuant()">Solve Question</button>
    <div class="result" id="quantResult"></div>
  </div>

<script>
// Conversion data
const unitData = {
  length: ['mm','cm','m','km','in','ft','yd','mi'],
  weight: ['mg','g','kg','ton','lb','oz'],
  area: ['mm2', 'cm2', 'm2', 'km2', 'in2', 'ft2', 'yd2'],
  volume: ['ml','l','m3','cm3','in3','ft3','gal'],
  temperature: ['C','F','K'],
  time: ['ms', 's', 'min', 'h', 'day', 'week', 'month', 'year']
};

// Conversion factors relative to base unit (length: meter, weight: kg, etc.)
const conversionFactors = {
  length:   { mm:0.001, cm:0.01, m:1, km:1000, in:0.0254, ft:0.3048, yd:0.9144, mi:1609.34 },
  weight:   { mg:0.000001, g:0.001, kg:1, ton:1000, lb:0.453592, oz:0.0283495 },
  area:     { mm2:0.000001, cm2:0.0001, m2:1, km2:1000000, in2:0.00064516, ft2:0.092903, yd2:0.836127 },
  volume:   { ml:0.001, l:1, m3:1000, cm3:0.001, in3:0.0163871, ft3:28.3168, gal:3.78541 },
  time:     { ms:0.001, s:1, min:60, h:3600, day:86400, week:604800, month:2592000, year:31536000 }
};

// Setup units for the selected category
function setUnits() {
  const cat = document.getElementById('category').value;
  const from = document.getElementById('fromUnit');
  const to = document.getElementById('toUnit');
  from.innerHTML = '';
  to.innerHTML = '';
  unitData[cat].forEach(u => {
    from.innerHTML += `<option value="${u}">${u}</option>`;
    to.innerHTML += `<option value="${u}">${u}</option>`;
  });
}
setUnits(); // Initialize on load

function convertUnits() {
  const val = parseFloat(document.getElementById('inputValue').value);
  const cat = document.getElementById('category').value;
  const from = document.getElementById('fromUnit').value;
  const to = document.getElementById('toUnit').value;
  if (isNaN(val)) {
    document.getElementById('convertResult').innerText = "Please enter a valid value.";
    return;
  }

  // Temperature is special
  if (cat === 'temperature') {
    let temp = val;
    // Convert from source to Celsius
    if (from === 'F') temp = (temp-32)*5/9;
    if (from === 'K') temp = temp-273.15;
    // Convert Celsius to target
    let result = temp;
    if (to === 'F') result = temp*9/5+32;
    if (to === 'K') result = temp+273.15;
    document.getElementById('convertResult').innerText = `${val} ${from} = ${result.toFixed(4)} ${to}`;
    return;
  }

  // Other types: convert via base unit
  const factors = conversionFactors[cat];
  if (!factors[from] || !factors[to]) {
    document.getElementById('convertResult').innerText = "Unit not supported!";
    return;
  }
  const baseVal = val * factors[from]; // step 1: to base unit
  const result = baseVal / factors[to]; // step 2: to target unit
  document.getElementById('convertResult').innerText = `${val} ${from} = ${result.toFixed(4)} ${to}`;
}

// Quant solver for IBPS style questions (handles ratios, speed conversions, addition, fractional, etc)
function solveQuant() {
  const q = document.getElementById('quantQuestion').value.trim().toLowerCase();
  let res = "Question not understood. Please provide using supported format.";
  
  // Ratio example: "ratio of 5 meters and 10 cm"
  let ratioMatch = q.match(/ratio of ([\d.]+) ?(meters|meter|m) and ([\d.]+) ?(cm|centimeter)/);
  if (ratioMatch) {
    let n1 = parseFloat(ratioMatch[1]);
    let n2 = parseFloat(ratioMatch[3]) / 100; // cm to meters
    res = `Ratio = ${(n1/n2).toFixed(2)} : 1`;
    document.getElementById('quantResult').innerText = res; return;
  }
  // Speed conversion: "speed 36 km/h to m/s"
  let speedMatch = q.match(/speed (\d+) ?km\/h (to|in) ?m\/s/);
  if (speedMatch) {
    let val = parseFloat(speedMatch[1]);
    let ms = val * 1000/3600; // direct formula
    res = `${val} km/h = ${ms.toFixed(2)} m/s`;
    document.getElementById('quantResult').innerText = res; return;
  }
  // Fractional: "45 minutes w.r.t a day"
  let fracMatch = q.match(/(\d+) ?minutes?(.*day)?/);
  if(fracMatch) {
    let min = parseFloat(fracMatch[1]);
    let dayMin = 1440;
    let frac = min/dayMin;
    res = `Fraction of day: ${min}/1440 = 1/${Math.round(1440/min)}`;
    document.getElementById('quantResult').innerText = res; return;
  }
  // Addition: "add 22 kg 589 g and 19 kg 678 g"
  let addMatch = q.match(/add (\d+) ?kg (\d+) ?g and (\d+) ?kg (\d+) ?g/);
  if(addMatch){
    let grams = (parseInt(addMatch[1])*1000+parseInt(addMatch[2]))+(parseInt(addMatch[3])*1000+parseInt(addMatch[4]));
    let kg = Math.floor(grams/1000);
    let g = grams%1000;
    res = `Sum = ${kg} kg ${g} g`;
    document.getElementById('quantResult').innerText = res; return;
  }
  // Ratio in meters-kilometers: "ratio of 50 meters to 1 kilometer"
  let ratioM = q.match(/ratio of (\d+) ?(meters?|m) to (\d+) ?(kilometers?|km)/);
  if(ratioM){
    let n1 = parseFloat(ratioM[1]);
    let n2 = parseFloat(ratioM[3])*1000;
    res = `${n1}m : ${n2}m = ${(n1/n2).toFixed(2)} : 1`;
    document.getElementById('quantResult').innerText = res; return;
  }

  document.getElementById('quantResult').innerText = res;
}
</script>
</body>
  </html>
  
